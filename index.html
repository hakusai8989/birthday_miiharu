<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday!</title>
    <style>
      /* --- å…¨ä½“ã®è¨­å®š --- */
      body {
        margin: 0;
        padding: 0;
        background-color: #ffe6e6;
        font-family: "Yu Gothic", "Meiryo", sans-serif;
        overflow: hidden;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-end;
      }

      /* --- ã‚²ãƒ¼ãƒ ç”»é¢ --- */
      #game-screen {
        position: relative;
        width: 100%;
        max-width: 600px;
        height: 100%;
        background-color: #ffe6e6;
      }

      /* ç«‹ã¡çµµ */
      #character-img {
        position: absolute;
        bottom: -5%;
        left: 50%;
        transform: translateX(-50%);
        width: 80%;
        max-width: none;
        max-height: none;
        display: block;
        background-color: transparent;
        pointer-events: none;
      }

      /* ã‚¹ã‚­ãƒƒãƒ—ãƒœã‚¿ãƒ³ */
      #skip-btn {
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: 1px solid white;
        border-radius: 20px;
        padding: 5px 15px;
        font-size: 14px;
        cursor: pointer;
        z-index: 50;
      }

      /* ä¼šè©±ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ */
      #message-box {
        position: absolute;
        bottom: 20px;
        left: 5%;
        width: 90%;
        height: auto;
        min-height: 150px;
        background: rgba(0, 0, 0, 0.8);
        border: 2px solid #fff;
        border-radius: 10px;
        box-sizing: border-box;
        padding: 30px 20px 20px;
        color: white;
        cursor: pointer;
        z-index: 10;
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 15px;
      }

      #name-label {
        position: absolute;
        top: -15px;
        left: 10px;
        background: #ff69b4;
        padding: 5px 15px;
        border-radius: 15px;
        font-weight: bold;
        font-size: 14px;
      }

      #text-content {
        font-size: 16px;
        line-height: 1.6;
      }

      #next-cursor {
        position: absolute;
        bottom: 10px;
        right: 15px;
        animation: blink 1s infinite;
      }
      @keyframes blink {
        0% {
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }

      /* --- ãƒ›ãƒ¼ãƒ ç”»é¢ï¼ˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰ --- */
      #home-screen {
        display: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        z-index: 20;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        color: white;
      }

      .home-title {
        font-size: 32px;
        color: #ff69b4;
        text-shadow: 2px 2px 0 #fff;
        margin: 0;
      }
      .home-subtitle {
        font-size: 14px;
        margin-top: 5px;
        margin-bottom: 20px;
      }
      .menu-list {
        width: 80%;
        max-width: 320px;
        display: flex;
        flex-direction: column;
        gap: 10px;
        text-align: center;
      }
      .menu-label {
        margin: 0;
        font-size: 14px;
        color: #ffccff;
      }

      /* ãƒœã‚¿ãƒ³å…±é€š */
      .menu-btn,
      .voice-btn {
        display: block;
        width: 100%;
        padding: 10px;
        color: white;
        border: none;
        border-radius: 8px;
        font-weight: bold;
        cursor: pointer;
        font-size: 16px;
        box-sizing: border-box;
      }
      .voice-btn {
        background: #4caf50;
      }
      .menu-btn {
        background: #ff69b4;
        border: 2px solid #fff;
      }
      .menu-btn:active,
      .voice-btn:active {
        transform: translateY(2px);
      }

      /* --- ã‚¢ãƒ«ãƒãƒ ç”»é¢ --- */
      #album-screen {
        display: none;
        width: 100%;
        height: 100%;
        overflow-y: auto;
        background-color: #fff0f5;
        text-align: center;
        padding-bottom: 50px;
      }

      .final-message {
        font-size: 20px;
        color: #ff69b4;
        font-weight: bold;
        margin: 20px 0;
      }

      .gallery {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
        padding: 10px;
      }

      .photo-card {
        width: 45%;
        background: white;
        padding: 10px;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        box-sizing: border-box;
      }

      .photo-card img {
        width: 100%;
        height: auto;
        border-radius: 5px;
        display: block;
      }

      .photo-card .photo-name {
        margin: 10px 0 0 0;
        font-size: 12px;
        font-weight: bold;
        color: #ff69b4;
      }

      /* --- å‹•ç”»ç”»é¢ --- */
      #video-screen {
        display: none; /* åˆæœŸçŠ¶æ…‹ã¯éè¡¨ç¤º */
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.9);
        z-index: 30;
        text-align: center;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      .video-box {
        width: 90%;
        max-width: 600px;
        border: 4px solid #ff69b4;
        border-radius: 10px;
        overflow: hidden;
        margin-bottom: 20px;
        background: black;
      }

      .video-box iframe {
        display: block; /* éš™é–“å¯¾ç­– */
      }
    </style>
  </head>
  <body>
    <div id="game-screen">
      <img id="character-img" src="mee-removebg-preview.png" alt="ç«‹ã¡çµµ" />
      <button id="skip-btn" onclick="skipToMenu()">SKIP >></button>

      <div id="message-box" onclick="nextScenario()">
        <div id="name-label">ã¯ã‚‹</div>
        <div id="text-content">ï¼ˆã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¹ã‚¿ãƒ¼ãƒˆï¼‰</div>
        <div id="next-cursor">â–¼</div>
      </div>

      <div id="home-screen">
        <h1 class="home-title">Happy Birthday!!</h1>
        <p class="home-subtitle">ç‰¹å…¸ãŒè§£æ”¾ã•ã‚Œã¾ã—ãŸ</p>

        <div class="menu-list">
          <p class="menu-label">ğŸµ ã‚¹ãƒšã‚·ãƒ£ãƒ«ãƒœã‚¤ã‚¹</p>
          <button class="voice-btn" onclick="playAudio('voice1.m4a')">
            â–¶ ãƒ¢ãƒãƒãƒâ‘ ï¼ˆã€‡ã€‡ï¼‰
          </button>
          <button class="voice-btn" onclick="playAudio('voice2.m4a')">
            â–¶ ãƒ¢ãƒãƒãƒâ‘¡ï¼ˆÃ—Ã—ï¼‰
          </button>

          <hr
            style="
              width: 100%;
              border: 0.5px dashed rgba(255, 255, 255, 0.5);
              margin: 15px 0;
            "
          />

          <button class="menu-btn" onclick="showAlbum()">
            ğŸ“– æ€ã„å‡ºã‚¢ãƒ«ãƒãƒ ã‚’è¦‹ã‚‹
          </button>
          <button class="menu-btn" onclick="showVideo()">
            ğŸ¬ ã‚¹ãƒšã‚·ãƒ£ãƒ«å‹•ç”»ã‚’è¦‹ã‚‹
          </button>
        </div>
      </div>
    </div>

    <div id="album-screen">
      <div class="final-message">Happy Birthday!!</div>

      <button
        class="menu-btn"
        onclick="location.reload()"
        style="width: 200px; margin: 0 auto 20px"
      >
        â†© ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹
      </button>

      <div class="gallery">
        <div class="photo-card">
          <img src="photo1.jpg" alt="æ€ã„å‡º1" />
          <p class="photo-name">å°å­¦ç”Ÿ-å’æ¥­ç·¨-</p>
        </div>
        <div class="photo-card">
          <img src="photo2.jpg" alt="æ€ã„å‡º2" />
          <p class="photo-name">ä¸­å­¦-å’æ¥­ç·¨-</p>
        </div>
        <div class="photo-card">
          <img src="photo3.jpg" alt="æ€ã„å‡º3" />
          <p class="photo-name">ãŠæ°—ã«å…¥ã‚Šä¸€æš</p>
        </div>
        <div class="photo-card">
          <img src="photo4.jpg" alt="æ€ã„å‡º4" />
          <p class="photo-name">æœ€è¿‘ã®ã‚¯ãƒªã‚¹ãƒã‚¹ğŸ’›</p>
        </div>
      </div>
    </div>

    <div id="video-screen">
      <h2 style="color: #ff69b4; margin-top: 30px">ğŸ¬ ã‚¹ãƒšã‚·ãƒ£ãƒ«ãƒ ãƒ¼ãƒ“ãƒ¼</h2>
      <div class="video-box">
        <iframe
          id="drive-video"
          src="https://drive.google.com/file/d/1GsA50SaZcDRb0N_JnclYfxLlq1xDTI7Z/preview"
          width="100%"
          height="315"
          allow="autoplay"
        >
        </iframe>
      </div>
      <button class="menu-btn" onclick="backToMenuFromVideo()">
        â†© ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã«æˆ»ã‚‹
      </button>
    </div>

    <script>
      // â˜…ã‚·ãƒŠãƒªã‚ªãƒ‡ãƒ¼ã‚¿
      const scenario = [
        { name: "ã¯ã‚‹", text: "ã‚ã‚Œï¼Ÿ ã©ã†ã—ãŸã®æ€¥ã«å‘¼ã³å‡ºã—ã¦ã€‚", audio: "" },
        { name: "ä¿º", text: "èª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†ï¼ï¼ï¼ï¼", audio: "voice1.m4a" },
        {
          name: "ã¯ã‚‹",
          text: "ãˆã£ã€ã“ã®ã‚µã‚¤ãƒˆâ€¦ç§ã®ãŸã‚ã«ä½œã£ã¦ãã‚ŒãŸã®ï¼Ÿ",
          audio: "",
        },
        {
          name: "ä¿º",
          text: "æ—¥é ƒã®æ„Ÿè¬ã‚’è¾¼ã‚ã¦ä½œã£ãŸã‚“ã ã€‚æ¥½ã—ã‚“ã§ãã‚Œã‚‹ã¨å¬‰ã—ã„ã€‚",
          audio: "voice2.m4a",
        },
        {
          name: "ã¯ã‚‹",
          text: "ã™ã”ãƒ¼ãƒ¼ã„ï¼ï¼ ã‚ã£ã¡ã‚ƒå¬‰ã—ã„ï¼ï¼ï¼",
          audio: "",
        },
      ];

      let currentIndex = 0;
      let currentAudio = null;

      const nameLabel = document.getElementById("name-label");
      const textContent = document.getElementById("text-content");

      // ã‚·ãƒŠãƒªã‚ªé€²è¡Œ
      function nextScenario() {
        if (currentIndex < scenario.length) {
          const item = scenario[currentIndex];
          nameLabel.innerText = item.name;
          textContent.innerText = item.text;

          // éŸ³å£°å†ç”Ÿ
          if (item.audio) {
            if (currentAudio) {
              currentAudio.pause();
              currentAudio.currentTime = 0;
            }
            currentAudio = new Audio(item.audio);
            currentAudio.play();
          }
          currentIndex++;
        } else {
          // ã‚·ãƒŠãƒªã‚ªçµ‚äº†
          skipToMenu();
        }
      }

      // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã¸ã‚¹ã‚­ãƒƒãƒ—
      function skipToMenu() {
        document.getElementById("message-box").style.display = "none";
        document.getElementById("skip-btn").style.display = "none";
        document.getElementById("home-screen").style.display = "flex";

        if (currentAudio) {
          currentAudio.pause();
          currentAudio.currentTime = 0;
        }
      }

      // ãƒœã‚¤ã‚¹å†ç”Ÿï¼ˆãƒ¢ãƒãƒãƒãƒœã‚¿ãƒ³ç”¨ï¼‰
      function playAudio(fileName) {
        if (currentAudio) {
          currentAudio.pause();
          currentAudio.currentTime = 0;
        }
        currentAudio = new Audio(fileName);
        currentAudio.play();
      }

      // ã‚¢ãƒ«ãƒãƒ è¡¨ç¤º
      function showAlbum() {
        document.getElementById("game-screen").style.display = "none";
        document.getElementById("album-screen").style.display = "block";
        if (currentAudio) currentAudio.pause();
      }

      // å‹•ç”»è¡¨ç¤º
      function showVideo() {
        document.getElementById("home-screen").style.display = "none";
        document.getElementById("video-screen").style.display = "flex";
        if (currentAudio) currentAudio.pause();
      }

      // å‹•ç”»ã‹ã‚‰æˆ»ã‚‹
      function backToMenuFromVideo() {
        // iframeã®å‹•ç”»ã‚’æ­¢ã‚ã‚‹ãŸã‚ã€srcã‚’å…¥ã‚Œç›´ã™
        const iframe = document.getElementById("drive-video");
        const tempSrc = iframe.src;
        iframe.src = tempSrc;

        document.getElementById("video-screen").style.display = "none";
        document.getElementById("home-screen").style.display = "flex";
      }
    </script>
  </body>
</html>
