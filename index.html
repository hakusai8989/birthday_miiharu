<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday!</title>
    <style>
      /* å…¨ä½“ã®è¨­å®š */
      body {
        margin: 0;
        padding: 0;
        background-color: #ffe6e6; /* èƒŒæ™¯è‰²ï¼ˆå¾Œã§ç”»åƒã«å¤‰ãˆã‚‰ã‚Œã¾ã™ï¼‰ */
        font-family: "Yu Gothic", "Meiryo", sans-serif;
        overflow: hidden; /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã•ã›ãªã„ */
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: flex-end; /* ä¸‹æƒãˆ */
      }

      /* ã‚²ãƒ¼ãƒ ç”»é¢ã®æ ï¼ˆã‚¹ãƒãƒ›ã‚µã‚¤ã‚ºã‚’æ„è­˜ï¼‰ */
      #game-screen {
        position: relative;
        width: 100%;
        max-width: 600px; /* PCã§è¦‹ã¦ã‚‚æ¨ªã«åºƒãŒã‚Šã™ããªã„ã‚ˆã†ã« */
        height: 100%;
        background-image: url("background.jpg"); /* â˜…èƒŒæ™¯ç”»åƒã¯ã“ã“ã§æŒ‡å®š */
        background-size: cover;
        background-position: center;
      }

      /* ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ï¼ˆä¿ºï¼‰ã®ç«‹ã¡çµµ */
      #character-img {
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 95%; /* ç”»é¢ã®8å‰²ãã‚‰ã„ã®å¤§ãã• */
        max-width: 600px;
        display: block;
        /* ç”»åƒãŒãªã„æ™‚ã®ãƒ€ãƒŸãƒ¼ï¼ˆç”»åƒã‚’å…¥ã‚ŒãŸã‚‰æ¶ˆã—ã¦OKï¼‰ */
        height: auto;
        max-height: 85vh;
        object-fit: contain;
        background-color: transparent;
        border-radius: 20px 20px 0 0;
        /*mix-blend-mode: screen;*/
      }

      /* ä¼šè©±ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ï¼ˆã‚»ãƒªãƒ•æ ï¼‰ */
      /* ä¼šè©±ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ï¼ˆé«˜ã•ã‚’è‡ªå‹•ã«ã—ã¦ã€ãƒœã‚¿ãƒ³ãŒå…¥ã‚‹éš™é–“ã‚’ä½œã‚‹ï¼‰ */
      #message-box {
        position: absolute;
        bottom: 20px;
        left: 5%;
        width: 90%;
        height: auto; /* â˜…é«˜ã•ã‚’è‡ªå‹•èª¿æ•´ã«å¤‰æ›´ */
        min-height: 150px; /* æœ€ä½ã§ã‚‚ã“ã®é«˜ã•ã¯ç¢ºä¿ */
        background: rgba(0, 0, 0, 0.8);
        border: 2px solid #fff;
        border-radius: 10px;
        box-sizing: border-box;
        padding: 30px 20px 20px; /* ä¸Šã®ä½™ç™½ã‚’å°‘ã—å¢—ã‚„ã—ã¾ã—ãŸ */
        color: white;
        cursor: pointer;
        z-index: 10;

        /* Flexboxã§ä¸­èº«ã‚’ç¸¦ä¸¦ã³ã«ã™ã‚‹è¨­å®š */
        display: flex;
        flex-direction: column;
        justify-content: center; /* ä¸Šä¸‹ä¸­å¤®å¯„ã› */
        gap: 15px; /* ãƒ†ã‚­ã‚¹ãƒˆã¨ãƒœã‚¿ãƒ³ã®é–“éš” */
      }
      /* åå‰è¡¨ç¤ºæ¬„ */
      #name-label {
        position: absolute;
        top: -15px;
        left: 10px;
        background: #ff69b4; /* ãƒ”ãƒ³ã‚¯ */
        padding: 5px 15px;
        border-radius: 15px;
        font-weight: bold;
        font-size: 14px;
      }

      /* ã‚»ãƒªãƒ•æœ¬æ–‡ */
      #text-content {
        font-size: 16px;
        line-height: 1.6;
      }

      /* ã€Œæ¬¡ã¸ã€ã®ä¸‰è§’ãƒãƒ¼ã‚¯ç‚¹æ»… */
      #next-cursor {
        position: absolute;
        bottom: 10px;
        right: 15px;
        animation: blink 1s infinite;
      }
      @keyframes blink {
        0% {
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }

      /* ã‚¯ãƒªã‚¢å¾Œã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³æ ï¼ˆçµ¶å¯¾é…ç½®ã‚’ã‚„ã‚ã¦ã€è‡ªç„¶ã«ä¸¦ã¹ã‚‹ï¼‰ */
      #end-menu {
        display: none; /* æœ€åˆã¯éš ã™ */
        position: static; /* â˜…ã“ã“é‡è¦ï¼šè‡ªç”±ã«é…ç½®ã•ã›ã‚‹ */
        transform: none; /* ä¸­å¤®é…ç½®ã®è¨ˆç®—ã‚’è§£é™¤ */
        text-align: center;
        width: 100%;
        margin-top: 10px;
      }

      /* ã¤ã„ã§ã«ï¼šã‚­ãƒ£ãƒ©ç”»åƒã®èƒŒæ™¯è‰²ãŒãƒ”ãƒ³ã‚¯ã«ãªã£ã¦é€éã•ã‚Œãªã„å•é¡Œã‚’ä¿®æ­£ */
      #character-img {
        /* ...ä»–ã®è¨­å®šã¯ãã®ã¾ã¾... */
        background-color: transparent; /* â˜…ã“ã“ã‚’ #ffcccc ã‹ã‚‰ transparent ã«å¤‰æ›´ */
      }

      /* ãƒœã‚¿ãƒ³ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
      .menu-btn {
        display: block;
        width: 80%;
        max-width: 300px;
        margin: 15px auto;
        padding: 15px;
        background: #ff69b4; /* ãƒ”ãƒ³ã‚¯ */
        color: white;
        font-size: 18px;
        font-weight: bold;
        border: 2px solid #fff;
        border-radius: 30px;
        cursor: pointer;
        text-decoration: none; /* ãƒªãƒ³ã‚¯ã®ä¸‹ç·šã‚’æ¶ˆã™ */
        box-shadow: 0 4px 0 #db4c97; /* ç«‹ä½“æ„Ÿ */
        transition: transform 0.1s;
      }

      .menu-btn:active {
        transform: translateY(4px); /* æŠ¼ã—ãŸæ™‚ã«å‡¹ã‚€ */
        box-shadow: none;
      }

      /* --- ã“ã“ã‹ã‚‰è¿½åŠ  --- */
      /* ã‚¯ãƒªã‚¢å¾Œã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒœã‚¿ãƒ³æ  */
      #end-menu {
        display: none; /* æœ€åˆã¯éš ã™ */
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        width: 100%;
        z-index: 20;
      }

      /* ãƒœã‚¿ãƒ³ã®ãƒ‡ã‚¶ã‚¤ãƒ³ */
      .menu-btn {
        display: block;
        width: 80%;
        max-width: 300px;
        margin: 15px auto;
        padding: 15px;
        background: #ff69b4; /* ãƒ”ãƒ³ã‚¯ */
        color: white;
        font-size: 18px;
        font-weight: bold;
        border: 2px solid #fff;
        border-radius: 30px;
        cursor: pointer;
        text-decoration: none; /* ãƒªãƒ³ã‚¯ã®ä¸‹ç·šã‚’æ¶ˆã™ */
        box-shadow: 0 4px 0 #db4c97; /* ç«‹ä½“æ„Ÿ */
        transition: transform 0.1s;
      }

      .menu-btn:active {
        transform: translateY(4px); /* æŠ¼ã—ãŸæ™‚ã«å‡¹ã‚€ */
        box-shadow: none;
      }

      /* ã‚¢ãƒ«ãƒãƒ ç”»é¢ï¼ˆæœ€åˆã¯éš ã—ã¦ãŠãï¼‰ */
      #album-screen {
        display: none; /* ã“ã“ãŒé‡è¦ */
        width: 100%;
        height: 100%;
        overflow-y: auto; /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ */
        background-color: #fff0f5;
        text-align: center;
        padding-bottom: 50px;
      }

      /* ãƒ¡ã‚¤ãƒ³ã®å‹•ç”»ãƒ»ç”»åƒã®æ  */
      .main-content {
        width: 100%;
        background-color: #000;
        margin-bottom: 20px;
      }
      .main-content video,
      .main-content img {
        width: 100%;
        max-width: 600px;
      }

      /* å†™çœŸã‚®ãƒ£ãƒ©ãƒªãƒ¼ã®æ  */
      .gallery {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        padding: 10px;
      }
      .gallery img {
        width: 45%; /* ã‚¹ãƒãƒ›ã§2åˆ—ã«ãªã‚‹ã‚µã‚¤ã‚º */
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }

      /* ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
      .final-message {
        font-size: 20px;
        color: #ff69b4;
        font-weight: bold;
        margin: 20px 0;
      }
    </style>
  </head>
  <body>
    <div id="game-screen">
      <img id="character-img" src="mee-removebg-preview.png" alt="ç«‹ã¡çµµ" />
<div id="message-box" onclick="nextScenario()">
  <div id="name-label">ã¯ã‚‹</div>
  
  <div id="text-content">ï¼ˆã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚¹ã‚¿ãƒ¼ãƒˆï¼‰</div>

  <div id="end-menu">
    <button class="menu-btn" onclick="showAlbum(); event.stopPropagation();">
      ğŸ“– æ€ã„å‡ºã‚¢ãƒ«ãƒãƒ ã‚’è¦‹ã‚‹
    </button>

    <button class="menu-btn" onclick="alert('å‹•ç”»ã¯æº–å‚™ä¸­ï¼'); event.stopPropagation();">
      ğŸ¬ ã‚¹ãƒšã‚·ãƒ£ãƒ«å‹•ç”»ã‚’è¦‹ã‚‹
    </button>
    
    <button class="menu-btn" onclick="playSpecialVoice(); event.stopPropagation();">
      ğŸ”Š ãƒœã‚¤ã‚¹ã‚’èã
    </button>
  </div>

  <div id="next-cursor">â–¼</div>
</div>

    <div id="album-screen">
      <div class="main-content">
        <img src="best-photo.jpg" alt="æœ€é«˜ã®ç¬é–“" />
      </div>

      <div class="final-message">Happy Birthday!!</div>

      <div class="gallery">
        <img src="photo1.jpg" alt="æ€ã„å‡º1" />
        <img src="photo2.jpg" alt="æ€ã„å‡º2" />
        <img src="photo3.jpg" alt="æ€ã„å‡º3" />
        <img src="photo4.jpg" alt="æ€ã„å‡º4" />
      </div>
    </div>

    <script>
      // â˜…ã‚·ãƒŠãƒªã‚ªãƒ‡ãƒ¼ã‚¿ï¼ˆaudio: 'ãƒ•ã‚¡ã‚¤ãƒ«å' ã‚’è¿½åŠ ï¼‰
      const scenario = [
        {
          name: "ã¯ã‚‹",
          text: "ã‚ã‚Œï¼Ÿ ã©ã†ã—ãŸã®æ€¥ã«å‘¼ã³å‡ºã—ã¦ã€‚",
          audio: "", // éŸ³å£°ãªã—ãªã‚‰ç©ºæ¬„ã‹çœç•¥ã§OK
        },
        {
          name: "ä¿º", // ã‚ãªãŸã®åå‰
          text: "èª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†ï¼ï¼ï¼ï¼",
          audio: "voice1.ma4", // â˜…ã“ã“ã§ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®šï¼
        },
        {
          name: "ã¯ã‚‹",
          text: "ãˆã£ã€ã“ã®ã‚µã‚¤ãƒˆâ€¦ç§ã®ãŸã‚ã«ä½œã£ã¦ãã‚ŒãŸã®ï¼Ÿ",
          audio: "",
        },
        {
          name: "ä¿º",
          text: "æ—¥é ƒã®æ„Ÿè¬ã‚’è¾¼ã‚ã¦ä½œã£ãŸã‚“ã ã€‚æ¥½ã—ã‚“ã§ãã‚Œã‚‹ã¨å¬‰ã—ã„ã€‚",
          audio: "voice2.ma4", // â˜…åˆ¥ã®éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«
        },
        {
          name: "ã¯ã‚‹",
          text: "ã™ã”ãƒ¼ãƒ¼ã„ï¼ï¼ ã‚ã£ã¡ã‚ƒå¬‰ã—ã„ï¼ï¼ï¼",
          // audioã‚’æŒ‡å®šã—ãªã‘ã‚Œã°å‰ã®éŸ³å£°ã¯æ­¢ã¾ã‚‰ãšã€ãã®ã¾ã¾ç„¡éŸ³ã§é€²è¡Œã—ã¾ã™
        },
      ];

      let currentIndex = 0;
      let currentAudio = null; // å†ç”Ÿä¸­ã®éŸ³å£°ã‚’ç®¡ç†ã™ã‚‹å¤‰æ•°

      const nameLabel = document.getElementById("name-label");
      const textContent = document.getElementById("text-content");
      // const charImg = document.getElementById('character-img'); // ç”»åƒåˆ‡ã‚Šæ›¿ãˆç”¨

      // åˆæœŸè¡¨ç¤ºï¼ˆæœ€åˆã®ã‚¯ãƒªãƒƒã‚¯å¾…ã¡ï¼‰
      function nextScenario() {
        if (currentIndex < scenario.length) {
          const item = scenario[currentIndex];

          // 1. æ–‡å­—ã¨åå‰ã®æ›´æ–°
          nameLabel.innerText = item.name;
          textContent.innerText = item.text;
          // if(item.img) charImg.src = item.img; // ç”»åƒåˆ‡ã‚Šæ›¿ãˆ

          // 2. éŸ³å£°ã®å†ç”Ÿå‡¦ç†
          if (item.audio) {
            // ã‚‚ã—å‰ã®éŸ³å£°ãŒæµã‚Œã¦ã„ãŸã‚‰æ­¢ã‚ã‚‹ï¼ˆã‚»ãƒªãƒ•è¢«ã‚Šé˜²æ­¢ï¼‰
            if (currentAudio) {
              currentAudio.pause();
              currentAudio.currentTime = 0;
            }
            // æ–°ã—ã„éŸ³å£°ã‚’ã‚»ãƒƒãƒˆã—ã¦å†ç”Ÿ
            currentAudio = new Audio(item.audio);
            currentAudio.play();
          }

          currentIndex++;
        } else {
          // 1. ã‚·ãƒŠãƒªã‚ªãŒçµ‚ã‚ã£ãŸã‚‰ã€ã¾ãšãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã™ã‚‹ï¼
          textContent.innerHTML =
            "Happy Birthday!!<br>ï¼ˆç‰¹å…¸ãŒè§£æ”¾ã•ã‚ŒãŸã‚ˆï¼ï¼‰";
          document.getElementById("next-cursor").style.display = "none"; // â–¼ã‚’æ¶ˆã™
          document.getElementById("end-menu").style.display = "block"; // ãƒœã‚¿ãƒ³ã‚’å‡ºã™
        }
      } // â† nextScenarioã®é–‰ã˜ã‚«ãƒƒã‚³

      // â˜…æ–°ã—ãè¿½åŠ ã™ã‚‹é–¢æ•°ï¼šãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ãŸæ™‚ã®å‹•ã
      function showAlbum() {
        // ã‚²ãƒ¼ãƒ ç”»é¢ã‚’æ¶ˆã—ã¦ã€ã‚¢ãƒ«ãƒãƒ ç”»é¢ã‚’å‡ºã™
        document.getElementById("game-screen").style.display = "none";
        document.getElementById("album-screen").style.display = "block";

        // BGMã‚’æ­¢ã‚ã‚‹
        if (currentAudio) currentAudio.pause();
      }
      // --- JavaScriptã®è¿½åŠ ç®‡æ‰€ ---

// â˜…è¿½åŠ ï¼šãƒœã‚¤ã‚¹ã‚’èããƒœã‚¿ãƒ³ã®å‡¦ç†
function playSpecialVoice() {
  // å†ç”Ÿã—ãŸã„éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®š
  const voiceFile = "voice_special.ma4"; 
  
  // æ—¢å­˜ã®éŸ³å£°ãŒæµã‚Œã¦ã„ãŸã‚‰æ­¢ã‚ã‚‹
  if (currentAudio) {
    currentAudio.pause();
    currentAudio.currentTime = 0;
  }
  
  // å†ç”Ÿ
  currentAudio = new Audio(voiceFile);
  currentAudio.play();
  
  alert("ã‚¹ãƒšã‚·ãƒ£ãƒ«ãƒœã‚¤ã‚¹ã‚’å†ç”Ÿã—ã¾ã™ï¼ï¼ˆéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚»ãƒƒãƒˆã—ã¦ã­ï¼‰");
}
    </script>
  </body>
</html>
